@{
    ViewData["Title"] = "Juego";
}
<div style="display: flex; flex-direction: column">
<div style="float: right; clear: both;">

  <div class="header">
    <div class="user-info">
      <h3>@ViewBag.username</h3>
      <hr class="vertical-line">
      <h3>Puntaje: @ViewBag.puntajeActual</h3>
    </div>
  </div>
</div>
  <div class="center-container">
    <div class="center-box" style="margin-top: -10%;">
<div class="center-text">
        <h4>Pregunta NÂ°@ViewBag.pregunta.IDPregunta</h4>
        <hr class="horizontal-line">
        <h1>@ViewBag.pregunta.enunciado</h1>
      </div>

<div class="button-container">
  <div class="button-row">
  <form method="post" class="button-form" action='@Url.Action("VerificarRespuesta", new {IDPregunta=@ViewBag.pregunta.IDPregunta})'>
  @foreach (Respuesta res in ViewBag.respuestas)
  {
      <button type='submit' name='IDRespuesta' value="@res.IDRespuesta" data-correct="@res.correcta">@res.contenido
      </button>
  }
</form>
</div>
</div>
<div class="container" style="margin-top: 2%; text-align: center; justify-content: center; align-items: center; display: flex;">
  <div class="bar-container" style="margin: 0px">
    <div class="bar"></div>
  </div>
  <div class="timer">Tiempo restante:  <span id="countdown">30</span> segundos</div>
</div>
</div>
</div>
<script>
    var countdown = 2; // Tiempo en segundos
    var timer = setInterval(function () {
        countdown--;
        document.getElementById("countdown").textContent = countdown;
        if (countdown <= 0) {
            clearInterval(timer);
            SeleccionarRespuestaIncorrecta();
        }
    }, 1000);

    function SeleccionarRespuestaIncorrecta() {
        var respuestaIncorrectaButtons = document.querySelectorAll('.button-row button:not([data-correct="true"])');
        if (respuestaIncorrectaButtons.length > 0) {
            var randomIndex = Math.floor(Math.random() * respuestaIncorrectaButtons.length);
            respuestaIncorrectaButtons[randomIndex].click();
        }
    }
</script>
